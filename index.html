<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Task-03 | Tic-Tac-Toe | Prodigy InfoTech</title>
  <style>
    /* üñ§ Dark Theme Styling */
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #000;
      color: #f0f0f0;
      text-align: center;
      padding: 20px;
      margin: 0;
    }

    h1 {
      font-size: 28px;
      margin-bottom: 10px;
    }

    .quote {
      font-style: italic;
      color: #ccc;
      margin-bottom: 20px;
    }

    .controls {
      margin-bottom: 15px;
    }

    .game-board {
      display: grid;
      grid-template-columns: repeat(3, 100px);
      gap: 5px;
      justify-content: center;
      margin: 20px auto;
    }

    .cell {
      background-color: #1a1a1a;
      border: 2px solid #888;
      height: 100px;
      width: 100px;
      font-size: 2rem;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      color: white;
    }

    .cell:hover {
      background-color: #2c2c2c;
    }

    .cell.X {
      color: #ff4b5c; /* red */
    }

    .cell.O {
      color: #4db8ff; /* blue */
    }

    button {
      margin: 5px;
      padding: 10px 20px;
      font-size: 14px;
      border-radius: 5px;
      border: none;
      cursor: pointer;
      font-weight: bold;
    }

    .ai { background-color: #007BFF; color: white; }
    .player { background-color: #28a745; color: white; }
    .restart { background-color: #ffc107; color: black; }

    #turnDisplay {
      font-size: 18px;
      margin-top: 10px;
      color: #eee;
    }

    .footer {
      margin-top: 40px;
      font-size: 14px;
      color: #999;
    }
  </style>
</head>
<body>
  <h1>üéØ Task-03: Tic-Tac-Toe Web Application</h1>
  <div class="quote">
    ‚ÄúTo build a tic-tac-toe web application, you can use HTML, CSS, and JavaScript. By implementing functions to handle user clicks, track game state, and check for winning conditions, you can create an interactive and engaging tic-tac-toe game...‚Äù
  </div>

  <div class="controls">
    <button class="player" onclick="setGameMode('player')">üë• Play vs Player</button>
    <button class="ai" onclick="setGameMode('ai')">ü§ñ Play vs AI</button>
    <button class="restart" onclick="restartGame()">üîÑ Restart Game</button>
  </div>

  <div id="turnDisplay">X's Turn</div>

  <div class="game-board" id="gameBoard">
    <div class="cell" data-cell></div>
    <div class="cell" data-cell></div>
    <div class="cell" data-cell></div>
    <div class="cell" data-cell></div>
    <div class="cell" data-cell></div>
    <div class="cell" data-cell></div>
    <div class="cell" data-cell></div>
    <div class="cell" data-cell></div>
    <div class="cell" data-cell></div>
  </div>

  <div class="footer">
    Submitted for <strong>ProDigy InfoTech</strong> Virtual Internship | Web Development
  </div>

  <script>
    const cells = document.querySelectorAll('[data-cell]');
    const turnDisplay = document.getElementById('turnDisplay');
    let currentPlayer = 'X';
    let gameActive = true;
    let vsAI = false;

    const winningCombinations = [
      [0,1,2], [3,4,5], [6,7,8],
      [0,3,6], [1,4,7], [2,5,8],
      [0,4,8], [2,4,6]
    ];

    function setGameMode(mode) {
      vsAI = mode === 'ai';
      restartGame();
      alert(`Mode set to: ${vsAI ? "Play vs AI ü§ñ" : "Play vs Player üë•"}`);
    }

    function handleClick(e) {
      const cell = e.target;
      if (!gameActive || cell.textContent !== '') return;

      makeMove(cell, currentPlayer);

      if (checkWin(currentPlayer)) {
        alert(`${currentPlayer} wins!`);
        gameActive = false;
        return;
      }

      if (isDraw()) {
        alert("It's a draw!");
        gameActive = false;
        return;
      }

      currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
      updateTurnDisplay();

      if (vsAI && currentPlayer === 'O' && gameActive) {
        setTimeout(makeAIMove, 400);
      }
    }

    function makeMove(cell, player) {
      cell.textContent = player;
      cell.classList.add(player);
    }

    function makeAIMove() {
      const emptyCells = [...cells].filter(cell => cell.textContent === '');
      if (emptyCells.length === 0) return;

      const randomCell = emptyCells[Math.floor(Math.random() * emptyCells.length)];
      makeMove(randomCell, currentPlayer);

      if (checkWin(currentPlayer)) {
        alert(`${currentPlayer} wins!`);
        gameActive = false;
        return;
      }

      if (isDraw()) {
        alert("It's a draw!");
        gameActive = false;
        return;
      }

      currentPlayer = 'X';
      updateTurnDisplay();
    }

    function checkWin(player) {
      return winningCombinations.some(combination =>
        combination.every(index =>
          cells[index].classList.contains(player)
        )
      );
    }

    function isDraw() {
      return [...cells].every(cell => cell.textContent !== '');
    }

    function restartGame() {
      cells.forEach(cell => {
        cell.textContent = '';
        cell.classList.remove('X', 'O');
      });
      currentPlayer = 'X';
      gameActive = true;
      updateTurnDisplay();
    }

    function updateTurnDisplay() {
      turnDisplay.textContent = gameActive ? `${currentPlayer}'s Turn` : '';
    }

    cells.forEach(cell => cell.addEventListener('click', handleClick));
  </script>
</body>
</html>

